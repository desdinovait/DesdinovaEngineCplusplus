//////////////////////////////////////////////////////////////
// File: Shaded.fx
// Author: Duff
// Date Created: 15/02/2007
//////////////////////////////////////////////////////////////


//////////////////////////////////////////////////////////////
// Variables
//////////////////////////////////////////////////////////////
float4		shadedColor;


//////////////////////////////////////////////////////////////
// Structures
//////////////////////////////////////////////////////////////
//Application to vertex shader
struct A2V_Shaded
{ 
	float4 Pos	: POSITION;
	float2 Tex0	: TEXCOORD0;
};

//Vertex shader to pixel shader
struct V2P_Shaded
{
	float4 Pos   : POSITION;
	float2 Tex0  : TEXCOORD0;
};


//////////////////////////////////////////////////////////////
// VS and PS Shaders
//////////////////////////////////////////////////////////////
void VS_Shaded( in A2V_Shaded IN, out V2P_Shaded OUT) 
{
	OUT.Pos	= mul( IN.Pos, matWorldViewProj );
	OUT.Tex0 = IN.Tex0;
}

float4 PS_Shaded( in V2P_Shaded IN) : COLOR
{
	float4 TexColor = tex2D( textureSampler0, IN.Tex0 );
	return TexColor * shadedColor;
}


//////////////////////////////////////////////////////////////
//Techniques
//////////////////////////////////////////////////////////////
technique Shaded
{
	pass P0
	{
		VertexShader = compile vs_1_0 VS_Shaded();
		PixelShader  = compile ps_1_0 PS_Shaded();
	}
}
